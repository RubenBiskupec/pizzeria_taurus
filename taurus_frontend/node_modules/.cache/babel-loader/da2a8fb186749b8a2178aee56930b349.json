{"ast":null,"code":"import _asyncToGenerator from \"/home/ruben/Documents/tech-web/pizzeria-taurus/taurus_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/home/ruben/Documents/tech-web/pizzeria-taurus/taurus_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/ruben/Documents/tech-web/pizzeria-taurus/taurus_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport axios from 'axios';\nexport var HttpService = /*#__PURE__*/function () {\n  function HttpService() {\n    _classCallCheck(this, HttpService);\n\n    this.backendPath = process.env.VUE_APP_BACKEND_PATH;\n    this.usersPath = \"users/\";\n    this.authPath = \"auth/\";\n    this.tokenPath = \"token/\";\n    this.loginPath = \"login/\";\n    this.statusPath = \"statuses/\";\n    this.ordersPath = \"orders/\";\n    this.reviewsPath = \"reviews/\";\n    this.ingredientsPath = \"ingredients/\";\n    this.pizzaTypesPath = \"pizza_types/\";\n    this.sizesPath = \"sizes/\";\n    this.doughsPath = \"doughs/\";\n    this.menuPizzasPath = \"menu_pizzas/\";\n    this.customPizzasPath = \"custom_pizzas/\";\n    this.halfMeterPizzasPath = \"half_meter_pizzas/\";\n    this.beveragesPath = \"beverages/\";\n    this.menuDict = {\n      Ingredient: \"ingredients/\",\n      PizzaType: \"pizza_types/\",\n      Size: \"sizes/\",\n      Dough: \"doughs/\",\n      MenuPizza: \"menu_pizzas/\",\n      CustomPizza: \"custom_pizzas/\",\n      HalfMeterPizza: \"half_meter_pizzas/\",\n      Beverage: \"beverages/\"\n    };\n    var token = this.$store.getters.token;\n\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    } else {\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n    }\n  }\n\n  _createClass(HttpService, [{\n    key: \"signUp\",\n    value: function signUp(signUpFormData, successCallback, errorCallback) {\n      var url = this.backendPath + this.authPath + this.usersPath;\n      axios.post(url, signUpFormData).then(function (response) {\n        successCallback(response.data);\n      }).catch(function (error) {\n        errorCallback(error);\n      });\n    }\n  }, {\n    key: \"logIn\",\n    value: function logIn(logInFormData, successCallback, errorCallback) {\n      var _this = this;\n\n      var url = this.backendPath + this.tokenPath + this.loginPath;\n      axios.post(url, logInFormData).then(function (response) {\n        var token = responseData.auth_token;\n\n        _this.$store.dispatch('setToken', token);\n\n        axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n      }).catch(function (error) {\n        errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getMenuEntity\",\n    value: function () {\n      var _getMenuEntity = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(menuEntity) {\n        var url, entities;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = this.backendPath + this.menuDict[menuEntity];\n                entities = [];\n                _context.prev = 2;\n                _context.next = 5;\n                return axios.get(url, {});\n\n              case 5:\n                entities = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0, menuEntity);\n\n              case 11:\n                return _context.abrupt(\"return\", entities.data);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function getMenuEntity(_x) {\n        return _getMenuEntity.apply(this, arguments);\n      }\n\n      return getMenuEntity;\n    }()\n  }]);\n\n  return HttpService;\n}();","map":{"version":3,"sources":["/home/ruben/Documents/tech-web/pizzeria-taurus/taurus_frontend/src/services/HttpService.js"],"names":["axios","HttpService","backendPath","process","env","VUE_APP_BACKEND_PATH","usersPath","authPath","tokenPath","loginPath","statusPath","ordersPath","reviewsPath","ingredientsPath","pizzaTypesPath","sizesPath","doughsPath","menuPizzasPath","customPizzasPath","halfMeterPizzasPath","beveragesPath","menuDict","Ingredient","PizzaType","Size","Dough","MenuPizza","CustomPizza","HalfMeterPizza","Beverage","token","$store","getters","defaults","headers","common","signUpFormData","successCallback","errorCallback","url","post","then","response","data","catch","error","logInFormData","responseData","auth_token","dispatch","menuEntity","entities","get","console","log"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nexport class HttpService {\n\n  constructor() {\n    this.backendPath = process.env.VUE_APP_BACKEND_PATH;\n\n    this.usersPath = \"users/\";\n    this.authPath = \"auth/\";\n    this.tokenPath = \"token/\";\n    this.loginPath = \"login/\";\n\n    this.statusPath = \"statuses/\";\n    this.ordersPath = \"orders/\";\n    this.reviewsPath = \"reviews/\"\n\n    this.ingredientsPath = \"ingredients/\";\n    this.pizzaTypesPath = \"pizza_types/\";\n    this.sizesPath = \"sizes/\";\n    this.doughsPath = \"doughs/\";\n    this.menuPizzasPath = \"menu_pizzas/\";\n    this.customPizzasPath = \"custom_pizzas/\";\n    this.halfMeterPizzasPath = \"half_meter_pizzas/\";\n    this.beveragesPath = \"beverages/\";\n\n    this.menuDict = {\n      Ingredient: \"ingredients/\",\n      PizzaType: \"pizza_types/\",\n      Size: \"sizes/\",\n      Dough: \"doughs/\",\n      MenuPizza: \"menu_pizzas/\",\n      CustomPizza: \"custom_pizzas/\",\n      HalfMeterPizza: \"half_meter_pizzas/\",\n      Beverage: \"beverages/\",\n    }\n\n    const token = this.$store.getters.token;\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    } else {\n      axios.defaults.headers.common[\"Authorization\"] = \"\"\n    }\n\n  }\n\n  signUp(signUpFormData, successCallback, errorCallback) {\n    let url = this.backendPath + this.authPath + this.usersPath;\n    axios\n      .post(url, signUpFormData)\n      .then(response => {\n        successCallback(response.data);\n      })\n      .catch(error => {\n          errorCallback(error);\n      });\n  }\n\n  logIn(logInFormData, successCallback, errorCallback) {\n    let url = this.backendPath + this.tokenPath + this.loginPath;\n    axios\n      .post(url, logInFormData)\n      .then(response => {\n        const token = responseData.auth_token;\n        this.$store.dispatch('setToken', token);\n        axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n      })\n      .catch(error => {\n          errorCallback(error);\n      });\n  }\n\n  async getMenuEntity(menuEntity) {\n    let url = this.backendPath + this.menuDict[menuEntity];\n    let entities = []\n    try {\n      entities = await axios\n      .get(url, {})\n    } catch (error) {\n      console.log(error, menuEntity);\n    }\n    return entities.data;\n\n  }\n\n\n\n}"]},"metadata":{},"sourceType":"module"}